<style>
    :root {
        --color1:hsl(0,0%,50%);/*表头填充*/
        --color2:hsl(0,0%,80%);/*表头字色*/
        --color3:hsl(0,0%,90%);/*行内默认字色、底框描边色*/
        --color4:hsl(0,0%,60%);/*行间区分色*/
        --color5:hsl(0,0%,70%);/*（主色）底框背景色、翻页器选中色*/
        --noteColor:rgba(255,255,255,40);/*注释字色*/
        --hlColor1:hsl(20, 100%, 60%);/*高亮字色1，给数量*/
        --hlColor2:hsl(280, 100%, 60%);/*高亮字色2，备用*/
        --hlColor3:hsl(185, 100%, 60%);/*高亮字色3，备用*/
        --LR:24px;/*左右间距*/
        --TB:14px;/*上下间距*/
        --dataTimeW:11ch;/*控制日期字符宽*/
        --dataNameTextW:13ch;/*控制名称字符宽*/
        --switch1:#707070;
        --switch2:#ffffff;
        --switch3:#000000;
        --switch4:#e3ca26;
    }

    body{
        display: flex;
        position: relative;
        justify-content: center;
        font-family: Arial, Helvetica, sans-serif;
    }

    .text-1{
        font-size: 16px;
        font-weight: 500;
        text-align:left;
      }

    .table-frame{
        width: 706px;
        height: 1012px;
        border: var(--color3) 2px solid;
        border-radius: 8px;
        background-color: var(--color5);
        overflow:hidden;
        display: flex;
        flex-direction: column;
        position: relative;
    }

    .table-top{
        width: 706px;
        height: 54px;
        text-align: center;
        font-size: 24px;
        line-height: 24px;
        display: flex;
        justify-content: left;
        align-items: center;
        background-color: var(--color1);
    }

    .table-line{
        width: 706px;  
        padding: 16px 0 16px 0;      
        height: auto;
        min-height: 60px;
        text-align: center;
        font-size: 24px;
        line-height: 1 ;
        display: flex;
        justify-content: left;
        align-items: center;
        
    }

    .table-area{
        background-color: var(--color4);
    }

    .table-top-text{
        width: 100vw;
        color: var(--color2);
        
    }

    .table-line-text{
        width: 100vw;
        height: auto;
        padding: 0 1ch 0 1ch;
        color: var(--color3);  
        display: flex;
        flex-direction: column;
        justify-content: left;
        align-items: center;
        position: relative;
    }

    .table-line-timetext{
        width: 100vw;
        max-width: 200px;
        height: auto;
        padding: 0 1ch 0 1ch;
        color: var(--color3);  
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        position: relative;
    }

    .data-time{
        width: var(--dataTimeW);
        
    }
    
    .data-nametext{
        width:var(--dataNameTextW) ;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .data-text{
        width:9ch ;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .data-num{
        color:var(--hlColor1)
    }

    .data-hltext1{
        color:var(--hlColor2)
    }

    .data-hltext2{
        color:var(--hlColor3)
    }

    .data-mix{
        display: flex;
        height: 2ch;
        padding: 0 1ch 0 0;
    }

    .icon-living{
        width: 24px;
        height: 24px; 
        background:url('https://dev.cc.163.com/_nextroom/_next/static/images/category/online.gif?3854') ; 
        display: block;
    }

    .select{
        width:120px; 
        height:24px;
        background-color: #d4d4d4; 
        border-radius: 4px; 
        border:1px solid #727272;
    }

    .select option:checked{
        background-color: #808080; 
    }

    .select option:hover{
        background-color: #808080; 
    }
    
    .checkbox{
        height:12px;
    }

    .tips2{
        position: relative;
        display: inline-block;
        cursor: pointer;
      }

      .tips2 .tips2text{
        visibility: hidden;
        width: 120px;
        background-color: #000000d0;
        color: #ffffffac;
        text-align: left;
        border-radius: 6px;
        padding: 5px;
        position: absolute;
        z-index: 1;
        bottom: 4%;
        left: 30%;
        transform: translateX(10%);
        opacity: 1;
        transition: opacity 0.3s;
      }

      .tips2:hover .tips2text{
        visibility: visible;
        opacity: 1;
      }

    .tips3{
        padding: 20px;
        background-color: #000000ba;
        color: #fff; 
        z-index: 1;
        bottom: 20%; 
        position: absolute;
        font-size: 24px;
        border-radius: 20px; 
      }

      .button {
        text-align: center;
        line-height: 8px;
        width:80px; 
        height:26px; 
        border-radius: 4px;
        background-color: rgb(92, 141, 190);
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
      }

      .button:hover {
        background-color: rgb(63, 113, 164);
      }

      .button2 {
        text-align: center;
        line-height: 8px;
        width:80px; 
        height:26px; 
        border-radius: 4px;
        background-color: rgb(218, 218, 218);
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
      }

      .button2:hover {
        background-color: rgb(120, 120, 120);
      }
      
      .safa-switch {
        position: absolute;
        display: inline-block;
        color:var(--switch3);
        background-color: var(--switch4); 
        border-radius:0px 4px 4px 0px;       
      }

      .theme-switch {
        position: absolute;
        display: inline-block;
        width: 32px;
        height: 14px;
        background-color:var(--switch1);
        border-radius: 17px;
        margin-top: 0px;
      }

      .theme-switch::before {        
        content: "";
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background-color: var(--switch2);
        top: 2px;
        left: 2px;
        transition: transform 0.3s;
      }

      input[type="checkbox"]:checked + .theme-switch::before {
        transform: translateX(18px);
      }

      

    @keyframes tipsPickup {
    0%{
        opacity: 0;
        transform: translatey(50%);
    }
    20%{
        opacity: 1;
        transform: translatey(0);
    }
    70%{
        opacity: 1;
        transform: scale(1);
    }
    100%{
        opacity: 0;
        transform: scale(1.05);
    }
    }

</style>

<body>
    <div style="width: 750px; height: 800px;background-color: rgb(193, 193, 193); border-radius: 8px;overflow: hidden;">
        
        <!--top-->
        <div style="width: 750px;height: 40px;background-color: rgb(234, 234, 234); display: flex; position: relative; align-items: center;">
            <!--主题开关-->
            <div style="width: 28px; height: 14px;position: absolute; right: 10px; ">
                <input type="checkbox" style="display: none;" id="themeSwitch" ></input>
                <label for="themeSwitch" class="theme-switch"></label>
            </div> 
        </div>
        
        <div style="display: flex;justify-content:left; ">
            <!--菜单栏-->
            <div style="width: 320px; height: auto; background-color: rgb(219, 219, 219);">
                <div style="height: 26px; margin: 4px 0 4px  14px; display: flex; justify-content:left; align-items: center; position: relative; color: #7c7c7c;">[-配置数据-]</div>
                <!--表头配置-->
                <div style="height: 26px; margin: 0 0 10px  10px; display: flex; justify-content:left;align-items: first baseline; position: relative;"> 
                    <input class="checkbox" type="checkbox" id="datadisplay-1" checked="checked" disabled></input>
                    <div class="text-1" style="height:24px;display: flex; align-items: center; position: relative;  ">数据1：</div>
                    <div id="menu1" >
                    <input type="text" id="dataName1" value="时间" style="width:100px; height:24px; border-radius: 4px; border:1px solid #727272; ">
                    <select id="data-check-1" class="select">
                        <option value="<data-time></data-time>">日期字段</option>
                        <!--option value="<data-text></data-text>">普通字段</option>
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span><data-num></data-num></span></div>">名称字段+数量</option>
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span class='icon-living'></span></div>">主播名称+图标</option>
                        <option value="<data-hltext1></data-hltext1>">高亮字段1</option>
                        <option value="<data-hltext2></data-hltext2>">高亮字段2</option-->
                    </select>
                    </div>
                </div>
                <div style="height: 26px; margin: 0 0 10px  10px;  display: flex; justify-content:left;align-items: first baseline; position: relative;"> 
                    <input class="checkbox" type="checkbox" id="datadisplay-2"checked="checked" disabled></input>
                    <div class="text-1" style="height:26px;display: flex; align-items: center; position: relative;  ">数据2：</div>
                    <div id="menu2" >
                    <input type="text" id="dataName2" value="主播" style="width:100px; height:24px; border-radius: 4px; border:1px solid #727272; ">
                    <select id="data-check-2" class="select">
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span class='icon-living'></span></div>">主播名称+图标</option>
                        <!--option value="<data-time></data-time>">日期字段</option-->
                        <option value="<data-text></data-text>">普通字段</option>
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span><data-num></data-num></span></div>">名称字段+数量</option>                       
                        <option value="<data-hltext1></data-hltext1>">高亮字段1</option>
                        <option value="<data-hltext2></data-hltext2>">高亮字段2</option>
                    </select>
                    </div>
                </div>
                <div style="height: 26px; margin: 0 0 10px  10px;  display: flex; justify-content:left;align-items: first baseline; position: relative;"> 
                    <input class="checkbox" type="checkbox" id="datadisplay-3" checked="checked" ></input>
                    <div class="text-1" style="height:26px;display: flex; align-items: center; position: relative;  ">数据3：</div>
                    <div id="menu3" >
                    <input type="text" id="dataName3" value="途径" style="width:100px; height:24px; border-radius: 4px; border:1px solid #727272; ">
                    <select id="data-check-3" class="select">
                        <option value="<data-text></data-text>">普通字段</option>
                        <!--option value="<data-time></data-time>">日期字段</option-->
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span><data-num></data-num></span></div>">名称字段+数量</option>
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span class='icon-living'></span></div>">主播名称+图标</option>
                        <option value="<data-hltext1></data-hltext1>">高亮字段1</option>
                        <option value="<data-hltext2></data-hltext2>">高亮字段2</option>
                    </select>
                    </div>
                </div>
                <div style="height: 26px; margin: 0 0 10px  10px;  display: flex; justify-content:left;align-items: first baseline; position: relative;"> 
                    <input class="checkbox" type="checkbox" id="datadisplay-4" checked="checked"  ></input>
                    <div class="text-1" style="height:26px;display: flex; align-items: center; position: relative;  ">数据4：</div>
                    <div id="menu4" >
                    <input type="text" id="dataName4" value="获得奖励" style="width:100px; height:24px; border-radius: 4px; border:1px solid #727272; ">
                    <select id="data-check-4" class="select">
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span><data-num></data-num></span></div>">名称字段+数量</option>
                        <!--option value="<data-time></data-time>">日期字段</option-->
                        <option value="<data-text></data-text>">普通字段</option>
                        <option value=" <div class='data-mix' ><data-nametext></data-nametext> <span class='icon-living'></span></div>">主播名称+图标</option>
                        <option value="<data-hltext1></data-hltext1>">高亮字段1</option>
                        <option value="<data-hltext2></data-hltext2>">高亮字段2</option>
                    </select>
                    </div>
                </div>  
                <div style="height: 26px; margin: 4px 0 4px  14px; display: flex; justify-content:left; align-items: center; position: relative; color: #7c7c7c;">[-配置颜色-]</div> 
                  <!--颜色选择和预览-->
                <div style=" display: flex; justify-content:left; position: relative; margin: 0 0 10px 10px;">
                    <input type="text" id="colorValue" value="#293da3" style="width:60px; height:26px; border-radius: 4px; border:1px solid #727272; ">
                    <div style="width: 51px; height: 26px; border:1px solid #727272; border-radius: 6px;">
                        <input type="color" value="#293da3" id="colorPicker" style=" width: 30px; height:26px; border-radius: 4px 0px 0px 4px; border:1px solid #727272;" oninput="updateColorValue()"><!--主题色选择-->
                        <div class="tips2" style="position: absolute;">        
                        <span class="tips2text" style="font-size: 10px; text-align: center;">关闭后可选择非安全色</span>
                        <input type="checkbox" style="display: none;"  id="safaSwitch" ></input>
                        <label for="safaSwitch" class="safa-switch" style="width: 14px; height: 19px;font-size: 10px; text-align: center; line-height: 10px;padding: 3px;border:1px solid #727272; box-shadow:0px 0px 4px #ffffff84 inset;  ">
                            SA<br>FA
                        </label>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div style="width: 375px;margin: 30px 0px 0px 30px;">
                <!--记录页-->
                <div style="transform: scale(0.5); transform-origin: left top;display: flex; flex-direction: column; align-items: center;  width: 750px;height: 1200px; background-image:url('https://s.mj.run/HzeVkIGcO-I') ;">
                    <div id="pickertips" class="tips3" style="display: none;">tips</div>
                    <div style="width: 750px;height: 144px;"></div>
                    <div class="table-frame" >
                        <div class="table-top">
                            <div id="dataname-1" class="table-top-text">时间</div>
                            <div id="dataname-2" class="table-top-text">主播</div>
                            <div id="dataname-3" class="table-top-text">途径</div>
                            <div id="dataname-4" class="table-top-text">获得奖励</div>
                        </div>
                        <div  class="table-line">
                            <div id="data-0" class="table-line-timetext"><data-time></data-time></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span class="icon-living"></span>
                                </div>
                            </div>
                            <div class="table-line-text"><data-text></data-text></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span><data-num></data-num></span>
                                </div>
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span><data-num></data-num></span>
                                </div>
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span><data-num></data-num></span>
                                </div>
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span><data-num></data-num></span>
                                </div>
                            </div>
                        </div>
                        <div  class="table-line table-area">
                            <div class="table-line-timetext"><data-time></data-time></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span class="icon-living"></span>
                                </div>
                            </div>
                            <div class="table-line-text"><data-text></data-text></div>
                            <div class="table-line-text"><div class="data-mix" > <data-nametext></data-nametext> <span><data-num></data-num></span></div></div>
                        </div>
                        <div  class="table-line">
                            <div class="table-line-timetext"><data-time></data-time></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span class="icon-living"></span>
                                </div>
                            </div>
                            <div class="table-line-text"><data-text></data-text></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span><data-num></data-num></span>
                                </div>
                            </div>
                        </div>
                        <div  class="table-line table-area">
                            <div class="table-line-timetext"><data-time></data-time></div>
                            <div class="table-line-text">
                                <div class="data-mix" > 
                                    <data-nametext></data-nametext> <span class="icon-living"></span>
                                </div>
                            </div>
                            <div class="table-line-text"><data-text></data-text></div>
                            <div class="table-line-text"><div class="data-mix" > <data-nametext></data-nametext> <span><data-num></data-num></span></div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    //定义标签：可添加字段类型
    class dataTime extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id="data-time" class="data-time" >03/02 19:30</div>
        `;
        }
    }
    class dataNameText extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id="data-nametext" class="data-nametext">名称名称名称名称</div>
        `;
        }
    }
    class dataText extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id=data-text"" class="data-text">文案文案</div>
        `;
        }
    }
    class dataNum extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id="data-num" class="data-num">xN</div>
        `;
        }
    }
    class datahltext1 extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id="data-hltext1" class="data-hltext1">1333k金锭</div>
        `;
        }
    }
    class datahltext2 extends HTMLElement {
        constructor() {
        super();
        this.innerHTML = `
            <div id="data-hltext2" class="data-hltext2">1333k金锭</div>
        `;
        }
    }
    // 注册自定义标签
    customElements.define('data-time', dataTime);
    customElements.define('data-nametext', dataNameText);
    customElements.define('data-text', dataText);
    customElements.define('data-num', dataNum);
    customElements.define('data-hltext1', datahltext1);
    customElements.define('data-hltext2', datahltext2);

    window.onload = function() {
        dataflex()
        datanameflex()
        menudisplay()
        datanamechange()
    }

    
    //判断数据数量、赋予非时间类数据ID
    function dataflex(){
        const root = document.documentElement;
        var checkboxes = document.getElementsByClassName("checkbox");
        var count = 0;
        for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxes[i].checked) {
            count++;
            }
        }
        var dataTotal = count
        
        if (dataTotal > 3 ){
            root.style.setProperty('--dataTimeW', '6ch')
            root.style.setProperty('--dataNameTextW', '10ch')
            dataTotaltips()
        }else{
            root.style.setProperty('--dataTimeW', '11ch')
            root.style.setProperty('--dataNameTextW', '13ch')
        }

        var elements = document.getElementsByClassName("table-line-text");
        for (var i = 0; i < elements.length; i++) {
            elements[i].id = "data-" + (i + 1);   
        }
        
    }

    //表头宽度适配
    function datanameflex() {
        var data1W =  document.getElementById("data-0");
        var data2W =  document.getElementById("data-1");
        var data3W =  document.getElementById("data-2");
        var data4W =  document.getElementById("data-3");
        var dataname1W =  document.getElementById("dataname-1");
        var dataname2W =  document.getElementById("dataname-2");
        var dataname3W =  document.getElementById("dataname-3");
        var dataname4W =  document.getElementById("dataname-4");
        var width1 = data1W.offsetWidth;
        var width2 = data2W.offsetWidth;
        var width3 = data3W.offsetWidth;
        var width4 = data4W.offsetWidth;
        dataname1W.style.width = width1 + "px"
        dataname2W.style.width = width2 + "px"
        dataname3W.style.width = width3 + "px"
        dataname4W.style.width = width4 + "px"
    }

    //增减数据项操作
    function menudisplay(){
        var root = document.documentElement;
        var menu3 = document.getElementById("menu3");
        var menu4 = document.getElementById("menu4");
        var checkbox3 = document.getElementById("datadisplay-3");
        var checkbox4 = document.getElementById("datadisplay-4");

        var data2 =  document.getElementById("data-2");
        var data3 =  document.getElementById("data-3");      
        var data5 =  document.getElementById("data-5");
        var data6 =  document.getElementById("data-6"); 
        var data8 =  document.getElementById("data-8");     
        var data9 =  document.getElementById("data-9");  
        var data11 =  document.getElementById("data-11");            
        var data12 =  document.getElementById("data-12");
        
        var dataname3 =  document.getElementById("dataname-3");
        var dataname4 =  document.getElementById("dataname-4");


        checkbox3.addEventListener('change', function() {    
        if (checkbox3.checked){
            menu3.style.display = "block"
            data2.style.display = "flex"
            data5.style.display = "flex"
            data8.style.display = "flex"
            data11.style.display = "flex"
            dataname3.style.display = "block"
            dataflex()
            datanameflex()
        }else{
            menu3.style.display = "none"
            data2.style.display = "none"
            data5.style.display = "none"
            data8.style.display = "none" 
            data11.style.display = "none"            
            dataname3.style.display = "none"
            dataflex()
            datanameflex()         
        }
        });

        checkbox4.addEventListener('change', function() {
        if (checkbox4.checked){
            menu4.style.display = "block"
            data3.style.display = "flex"
            data6.style.display = "flex"
            data9.style.display = "flex"
            data12.style.display = "flex"
            dataname4.style.display = "block"
            dataflex()
            datanameflex()
        }else{
            menu4.style.display = "none"
            data3.style.display = "none"
            data6.style.display = "none"
            data9.style.display = "none"
            data12.style.display = "none"
            dataname4.style.display = "none"
            dataflex()
            datanameflex()
        }
        });
    }

    //表头配置
    function datanamechange(){
        var dataN1 = document.getElementById("dataname-1");
        var dataN2 = document.getElementById("dataname-2");
        var dataN3 = document.getElementById("dataname-3");
        var dataN4 = document.getElementById("dataname-4");
        var dataNinput1 = document.getElementById("dataName1");
        var dataNinput2 = document.getElementById("dataName2");
        var dataNinput3 = document.getElementById("dataName3");
        var dataNinput4 = document.getElementById("dataName4");

        dataNinput1.addEventListener('input', function() {
            dataN1.innerHTML = dataNinput1.value;
        });
        dataNinput2.addEventListener('input', function() {
            dataN2.innerHTML = dataNinput2.value;
        });
        dataNinput3.addEventListener('input', function() {
            dataN3.innerHTML = dataNinput3.value;
        });
        dataNinput4.addEventListener('input', function() {
            dataN4.innerHTML = dataNinput4.value;
        });
    }
    
    //数据2类型控制
    function data1check(){
        var check = document.getElementById("dataname-1");
        var type = check.value
    }

    //数据3类型控制

    //数据4类型控制

    
    
    //更新颜色
    const colorPicker = document.getElementById('colorPicker');
    const root = document.documentElement;

    //颜色选择器同步换色
    colorPicker.addEventListener('input', function() {
    var tipsset = document.getElementById("pickertips");
    var picker = colorPicker.value ;
    var rgb = hexToRgb(picker);

    const r = parseInt(picker.slice(1, 3), 16);
    const g = parseInt(picker.slice(3, 5), 16);
    const b = parseInt(picker.slice(5, 7), 16);
    
    var max = Math.max(r,g,b)
    var min = Math.min(r,g,b)
    var l = (r * 299 + g * 587 + b * 114)/1000;
    var s = (max - min)/max * 100;

    //安全模式
    var checkbox1 = document.getElementById("safaSwitch")
    if (checkbox1.checked){
        changeColor()
    }else{
        //先判断明度，再判断饱和度
        if (l > 220){
        darktips2()
        }else if ( l < 50){
        lighttips2()
        }else if ( l <= 220 , l > 128 ){
            var checkbox = document.getElementById("themeSwitch");
            checkbox.checked = true;
            if (s >= 50){ 
            stips1()
            } else if (s <= 10){
            stips2()
            } else {
            changeColor()
            }
        }else {
            var checkbox = document.getElementById("themeSwitch");
            checkbox.checked = false;
            if (s >= 78){ 
            stips1()
            } else if (s <= 18){
            stips2()
            } else {
            changeColor()
            }
        }
    }

    });


    //符合条件则换色
    function changeColor(){
        var checkbox = document.getElementById("themeSwitch")
            if (checkbox.checked) {
            colordark();
            } else {
            colorlight();
            };
        }

    //亮字色主题
    function colorlight(){
        const color = colorPicker.value;
        const hsl = rgbToHsl(hexToRgb(color));
        
    }
    //暗字色主题
    function colordark(){
        const color = colorPicker.value;
        const hsl = rgbToHsl(hexToRgb(color));
        
    }

    //主题切换
    const themeSwitch = document.getElementById('themeSwitch');
    const safaSwitch = document.getElementById('safaSwitch');

    themeSwitch.addEventListener('change', function() {
    if (this.checked) {
        document.documentElement.style.setProperty('--switch1','#c6c6c6');
        document.documentElement.style.setProperty('--switch2','#505050');
        
        colordark()
        darktips1()
    } else {
        document.documentElement.style.setProperty('--switch1','#707070');
        document.documentElement.style.setProperty('--switch2','#fff');
        
        colorlight()
        lighttips1()
    }
    });
    //安全模式切换（默认开启）
    safaSwitch.addEventListener('change', function() {
    if (this.checked) {
        root.style.setProperty('--switch3','#909090');
        root.style.setProperty('--switch4','#c0c0c0');
    } else {
        root.style.setProperty('--switch3','#000000');
        root.style.setProperty('--switch4','#e3ca26');
    }
    });

    var clickCount = 0
    //亮字色切换提示--有限次数
    function lighttips1(){
    if (clickCount >= 4 ){return}
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "当前使用【亮字色】模式~";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
        clickCount++;
    }
    //颜色过暗提示
    function lighttips2(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "！！所选颜色过暗！！";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
    }
    //亮字色模式生效提示
    function lighttips(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "当前使用【亮字色】模式~";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
        
    }

    //暗字色切换提示--有限次数
    function darktips1(){
    if (clickCount >= 4 ){return}
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "当前使用【暗字色】模式~";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
        clickCount++;
    }
    //颜色过亮提示
    function darktips2(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "！！所选颜色过亮！！";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
    }
    //暗字色模式生效提示
    function darktips(){  
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "当前使用【暗字色】模式~";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);  
    }

    //颜色过纯提示
    function stips1(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "！！所选颜色过纯！！";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
    }
    //颜色过灰提示
    function stips2(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1s forwards";
        object.innerHTML = "！！所选颜色过灰！！";
        setTimeout(function(){
        object.style.display = "none";      
        },1000);
    }
    //文案较长提示
    function dataTotaltips(){
    var object = document.getElementById('pickertips');
        object.style.display = "block";
        object.style.animation = "tipsPickup 1.8s forwards";
        object.innerHTML = "当前文案较长，已自动换行/截断~";
        setTimeout(function(){
        object.style.display = "none";      
        },2000);
    }
    
    //显示色值
    function updateColorValue() {
            var colorPicker = document.getElementById("colorPicker");
            var colorValue = document.getElementById("colorValue");
            colorValue.value = colorPicker.value;
        }

    // HEX转RGB
    function hexToRgb(hex) {
        const r = parseInt(hex.slice(1, 3), 16);
        const g = parseInt(hex.slice(3, 5), 16);
        const b = parseInt(hex.slice(5, 7), 16);
        
        return { r, g, b };
    }

    // RGB转HSL
    function rgbToHsl(rgb) {
        const r = rgb.r / 255;
        const g = rgb.g / 255;
        const b = rgb.b / 255;
        
        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        
        let h, s, l = (max + min) / 2;
        
        if (max === min) {
        h = s = 0; // achromatic
        } else {
        const d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        
        switch (max) {
            case r:
            h = (g - b) / d + (g < b ? 6 : 0);
            break;
            case g:
            h = (b - r) / d + 2;
            break;
            case b:
            h = (r - g) / d + 4;
            break;
        }
        
        h /= 6;
        }
        
        return { h: Math.round(h * 360), s: Math.round(s * 100), l: Math.round(l * 100) };
    }

    function hslToHex(hslColor) {
        const hslValues = hslColor.match(/\d+/g).map(Number);
        const [h, s, l] = hslValues;
        const hslToRgb = (h, s, l) => {
        h = h % 360;
        s /= 100;
        l /= 100;
        const c = (1 - Math.abs(2 * l - 1)) * s;
        const x = c * (1 - Math.abs((h / 60) % 2 - 1));
        const m = l - c / 2;
        let r, g, b;
        if (h >= 0 && h < 60) {
            r = c;
            g = x;
            b = 0;
        } else if (h >= 60 && h < 120) {
            r = x;
            g = c;
            b = 0;
        } else if (h >= 120 && h < 180) {
            r = 0;
            g = c;
            b = x;
        } else if (h >= 180 && h < 240) {
            r = 0;
            g = x;
            b = c;
        } else if (h >= 240 && h < 300) {
            r = x;
            g = 0;
            b = c;
        } else if (h >= 300 && h < 360) {
            r = c;
            g = 0;
            b = x;
        }
        return [Math.round((r + m) * 255), Math.round((g + m) * 255), Math.round((b + m) * 255)];
        };

        const rgbToHex = (r, g, b) => {
        return `#${((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)}`;
        };

        const [r, g, b] = hslToRgb(h, s, l);
        return rgbToHex1(r, g, b);
    }

    function rgbToHex1(rgb) {
        // 将RGB颜色值分割为红、绿、蓝三个部分
        var rgbArray = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
        var red = parseInt(rgbArray[1]);
        var green = parseInt(rgbArray[2]);
        var blue = parseInt(rgbArray[3]);

        // 将十进制颜色值转换为十六进制颜色值
        var hex = "#" + ((1 << 24) | (red << 16) | (green << 8) | blue).toString(16).slice(1);

        return hex;
    }

    function rgbToHex2(color) {
        // 将RGB颜色字符串转换为数组
        var rgb = color.match(/\d+/g);

        // 将RGB值转换为16进制，并拼接成hex色值
        var hexColor = '#' + Number(rgb[0]).toString(16) + Number(rgb[1]).toString(16) + Number(rgb[2]).toString(16);

        return hexColor;
    }
    
    
</script>
